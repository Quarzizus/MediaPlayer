{"version":3,"sources":["assets/MediaPlayer.js","assets/plugins/autoPlay.js","assets/plugins/autoPause.js","assets/index.js"],"names":["mediaPlayer","config","media","el","plugins","_initPlugins","prototype","player","play","pause","muted","value","forEach","plugin","run","tooglePlay","paused","mute","amute","toogleMute","autoPlay","autoPause","threshold","handler","bind","handlerVisibly","observer","IntersectionObserver","observe","document","addEventListener","entries","entry","visibly","intersectionRatio","console","log","visibilityState","video","querySelector","boton","botonm","navigator","serviceWorker","register","catch","error","message","onclick"],"mappings":";;AGCA;;AACA;;AACA;AHHA,ACAA,SDASA,ACAAoB,QAAT,GDAA,ACAmB,CDAEnB,ACEpB,MDFD,EAA6B;AACzB,OAAKC,KAAL,GAAaD,MAAM,CAACE,EAApB;AACA,ACCJiB,ODDShB,CCCD,CAACE,KDDL,GAAeL,CCCnB,CAAmBa,GAAnB,CDDyB,CAACV,CCCD,MDDN,IAAkB,ACCHG,EDD9B,ICCqB,EAAgB;AEHzC,AFII,MAAG,CAACA,MAAM,CAACG,KAAX,EAAiB;ADDjB,AGCJ,AFCQH,IAAAA,GDFCF,GCEK,CAACH,KAAP,CAAaQ,EDFjB,GCEI,GAAqB,IAArB;ADDL,AGCH,AFCK,IEDC4B,KAAK,GAAGT,QAAQ,CAACU,aAAT,CAAuB,OAAvB,CAAd;AACA,IAAMC,ADNAnB,KCMK,GAAGQ,QAAQ,CAACU,aAAT,CAAuB,QAAvB,CAAd;AHDEvC,AGEF,ADNI,ADMIO,EAAAA,EEAFkC,IFAQ,CAACjC,CEAH,CHFC,CAACF,CGECuB,AFAP,QDFN,AGEqB,CHFCxB,AGEAkC,CDNP,WFIf,CGEa,CAAuB,CHFC,MGExB,CAAf,EAEA,GHJiD;AAAA,AEJhC,ADQhB,CAND;AEOA,IAAMhC,MAAM,GAAG,IAAIP,oBAAJ,CAAgB;AHJzB,AGKFG,ADTI,ECSJA,EAAE,EHLMI,AGKJ+B,GDTKhB,ECQkB,CHJb,GAAE,ACKLF,GCTP,GAAiB,IAAjB;AFKEZ,AGKNJ,ADTI,ECSJA,EHLMI,IAAI,CGKH,ADTEe,CFIG,CGMX,CACI,IAAIH,ADXL,GAAe,KAAKG,OAAL,CAAaC,CCW3B,EADJ,CDVkB,CCYd,ADZgC,ICY5BH,ADZU,CAAf,iBCYC,EAFJ;AHNW,AGGe,ADNvB,CCMO,CAAf,ODNaI,IFGS,KAAI,CAACjB,IAAL,AEHd,EFGQ,CEHc,KAAKiB,cAAL,CAAoBD,IAApB,CAAyB,IAAzB,CAAtB;AFGQ,AEFX,KFCe;AAEVf,AGWV,IHXUA,AGWP,KHXY,EAAE,YGWKiC,SAAtB,EAAgC;AHXf,AGYbA,EAAAA,SAAS,CAACC,CHZS,KAAI,CAAClC,KAAL,CGYnB,CHZa,AGYWmC,QAAxB,CAAiC,sCAAjC,EAA2CC,K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","file":"assets.8f4429fc.js","sourceRoot":"..","sourcesContent":["function mediaPlayer(config) {\n    this.media = config.el;\n    this.plugins = config.plugins || [];\n    this._initPlugins();\n  }\n  mediaPlayer.prototype._initPlugins = function(){\n      const player ={\n          play: () => this.play(),\n          pause: () => this.pause(),\n          media: this.media,\n          get muted() {\n              return this.media.muted;\n          },\n          set muted(value) {\n            this.media.muted = value \n          },\n      }\n      this.plugins.forEach(plugin => {\n          plugin.run(this)\n      });\n  }\n  mediaPlayer.prototype.play = function(){\n      this.media.play();\n  }\n  mediaPlayer.prototype.pause = function(){\n      this.media.pause();\n  }\n  // creamos la clase con prototype\n  mediaPlayer.prototype.tooglePlay = function () {\n    // le da play al video\n    if (this.media.paused) {\n      this.media.play();\n    } else {\n      this.media.pause();\n    }\n  };\n  mediaPlayer.prototype.mute = function(){\n      this.media.muted = true \n  }\n  mediaPlayer.prototype.amute = function(){\n      this.media.muted = false   \n  }\n  mediaPlayer.prototype.toogleMute = function(){\n      if(this.media.muted){\n          this.media.muted = false\n        }else{\n            this.media.muted = true\n        }\n}\n// exportar la clase a el index\nexport default mediaPlayer;","function autoPlay(){\n\n}\nautoPlay.prototype.run = function(player){\n    if(!player.muted){\n        player.media.muted = true     \n    } \n        player.play();    \n    \n}\n\nexport default autoPlay","class autoPause{\n    constructor(){\n        this.threshold = 0.25\n        this.handler = this.handler.bind(this)\n        this.handlerVisibly = this.handlerVisibly.bind(this)\n    }\n    run(player){\n        this.player = player \n        const observer = new IntersectionObserver(this.handler, {\n            threshold: this.threshold\n        })\n        observer.observe(this.player.media)\n        // Evento de cambiar de pestalla\n        document.addEventListener(\"visibilitychange\", this.handlerVisibly)\n    }\n    handler(entries){\n        const entry = entries[0]\n        const visibly = entry.intersectionRatio >= this.threshold\n       \n        if(visibly){\n           this.player.play()\n           console.log(\"Yes\")\n       } else{\n           this.player.pause()\n           console.log(\"Estamos en pausa\")\n        }\n    }\n    handlerVisibly(){\n        const visibly = document.visibilityState == \"visible\"\n        if(visibly){\n            this.player.play()\n        }else{\n            this.player.pause()\n        }\n    }\n\n}\n\nexport default autoPause","// importar lo que fue exportado en mediaPlayer\nimport mediaPlayer from \"./MediaPlayer.js\";\nimport autoPlay from \"../assets/plugins/autoPlay.js\";\nimport autoPause from \"../assets/plugins/autoPause.js\";\n// obtenemos selectores\nconst video = document.querySelector(\"video\");\nconst boton = document.querySelector(\"button\");\nconst botonm = document.querySelector(\"#mute\")\n\n// creamos la instancia\nconst player = new mediaPlayer({ \n    el: video, \n    plugins: \n     [\n         new autoPlay(),\n         new autoPause(),\n     ],\n});\n\nif('serviceWorker' in navigator){\n    navigator.serviceWorker.register(\"/sw.js\").catch(error => {\n        console.log(error.message)\n    })\n}\n\n// le agregamos al boton la instancia anterior\nboton.onclick = () => player.tooglePlay();\nbotonm.onclick = () => player.toogleMute()"]}